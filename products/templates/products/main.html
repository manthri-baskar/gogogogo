{% extends 'base1.html'%}

{% block title %}chart{% endblock title %}

{% block content %} 
    <div class="ui modal mymodal">
        <div class="header"><h1>Demand</h1></div>
        <div class="ui container">
            <ul>
                <li><strong>Count: </strong>{{ Quantity.count}}</li>
                <li><strong>Mean: </strong>{{ Quantity.mean}}</li>
                <li><strong>Std dev: </strong>{{ Quantity.std|floatformat}}</li>
            </ul>
        </div>
    </div>
    <div>
        <div class="block-center">
            {% if error_message %}
                <!--linked with java script code in main.js-->
                <div class="ui negative message">
                    <i class="close icon"></i>
                    <div class="header">{{ error_message }}</div>
                </div>
            {% endif %}

            {% if request.POST %}
                {% if graph %}
                    <img src="data:image/png;base64, {{ graph | safe}}">
                {% endif %}
            {% endif %}
        </div>
        <form action="" method="POST" class="ui form">
            {% csrf_token %}
            <div class="field">
                <label>Choose a chart type: </label>
                <div class="ui selection dropdown">
                    <input type="hidden" name="plot">
                    <i class="dropdown icon"></i>
                    <div class="default text">----</div>
                    <div class="menu">
                        <div class="item" value="bar">Bar plot</div>
                        <div class="item" value="line">Line plot</div>
                        <div class="item" value="count">Count plot</div>
                    </div>
                </div>
            </div>
            <div class="field">
                <label>Item: </label>
                <input type="text" name="item">
            </div>
            <div class="field">
                <div class="two fields">
                    <div class="field">
                        <label>Date from: </label>
                        <input type="date" name="date_from">
                    </div>
                    <div class="field">
                        <label>Date to: </label>
                        <input type="date" name="date_to">
                    </div>
                </div>
            </div>
            <div class="block-center">
                <button class='ui primary button' type="submit">Select</button>
            </div>
        </form>
        <div class="block-center">
            <button class='ui secondary button' id='modal-btn'>See summary</button>
            <br><br>
        </div>
        <div>
            <h2><u>Items:</u></h2>
            {% for a in items %}
                {{a}}<br>
            {% endfor %}
        </div>
    </div>
{% endblock content %}